doctype html
head
  meta(charset='utf-8')
  link(rel='apple-touch-icon' sizes='76x76' href='/img/apple-icon.png')
  link(rel='icon' type='image/png' href='/img/favicon.png')
  meta(http-equiv='X-UA-Compatible' content='IE=edge,chrome=1')
  title= title
  meta(content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport')
  // Fonts and icons
  link(rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Material+Icons')
  link(rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css')
  // CSS Files
  link(href='/css/dashboard/material-dashboard.css?v=2.1.1' rel='stylesheet')
  // CSS Just for demo purpose, don't include it in your project
  link(href='/demo/demo.css' rel='stylesheet')
  link(href='/css/components/dash_Calendar/calendar.css' rel='stylesheet')  
.wrapper
  .sidebar(data-color='purple' data-background-color='white' data-image='/img/sidebar-1.jpg')
    //
      Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"
      Tip 2: you can also add an image using data-image tag
    .logo
      a.simple-text.logo-normal(href='/')
        | Hi #{user.profile.name}!
    .sidebar-wrapper
      ul.nav
        li.nav-item
          a.nav-link(href='./')
            i.material-icons dashboard
            p Dashboard
        li.nav-item
          a.nav-link(href='./user')
            i.material-icons person
            p User Profile
        li.nav-item.active
          a.nav-link(href='./availability')
            i.material-icons calendar_today
            p Availability
        li.nav-item
          a.nav-link(href='./inquiries')
            i.material-icons feedback
            p Inquiries
        li.nav-item
          a.nav-link(href='./customers')
            i.material-icons people
            p Customers
  .main-panel
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-transparent.navbar-absolute.fixed-top
      .container-fluid
        .navbar-wrapper
          a.navbar-brand(href='/availability') Availability
        button.navbar-toggler(type='button' data-toggle='collapse' aria-controls='navigation-index' aria-expanded='false' aria-label='Toggle navigation')
          span.sr-only Toggle navigation
          span.navbar-toggler-icon.icon-bar
          span.navbar-toggler-icon.icon-bar
          span.navbar-toggler-icon.icon-bar
        .collapse.navbar-collapse.justify-content-end
          form.navbar-form
            .input-group.no-border
              input.form-control(type='text' value='' placeholder='Search...')
              button.btn.btn-white.btn-round.btn-just-icon(type='submit')
                i.material-icons search
                .ripple-container
          ul.navbar-nav
            li.nav-item
              a.nav-link(href='#pablo')
                i.material-icons dashboard
                p.d-lg-none.d-md-block
                  | Stats
            li.nav-item.dropdown
              a#navbarDropdownMenuLink.nav-link(href='http://inkdby.com' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
                i.material-icons notifications
                span.notification 5
                p.d-lg-none.d-md-block
                  | Some Actions
              .dropdown-menu.dropdown-menu-right(aria-labelledby='navbarDropdownMenuLink')
                a.dropdown-item(href='#') Mike John responded to your email
                a.dropdown-item(href='#') You have 5 new tasks
                a.dropdown-item(href='#') You&apos;re now friend with Andrew
                a.dropdown-item(href='#') Another Notification
                a.dropdown-item(href='#') Another One
            li.nav-item.dropdown
              a#navbarDropdownProfile.nav-link(href='#pablo' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
                i.material-icons person
                p.d-lg-none.d-md-block
                  | Account
              .dropdown-menu.dropdown-menu-right(aria-labelledby='navbarDropdownProfile')
                a.dropdown-item(href='#') Profile
                a.dropdown-item(href='#') Settings
                .dropdown-divider
                a.dropdown-item(href='http://login.inkdby.com/logout') Log out            
    .content
      .container-fluid                
        #wrap
          #calendar
          div(style='clear:both')
        .row
          .col-md-12
            .card
              .card-header.card-header-primary
                h4.card-title Availability
                p.card-category  Days and Times blocked from calendar 
              .card-body 
              
footer.footer
  .container-fluid
    .copyright.float-right
        | &copy;
        script.
          document.write(new Date().getFullYear())
        | , 
        a(href='http://inkdby.com' target='_blank') Edgar Trujillo
// Core JS Files
script(src='/js/dashboard/core/jquery.min.js')
script(src='/js/dashboard/core/popper.min.js')
script(src='/js/dashboard/core/bootstrap-material-design.min.js')
script(src='/js/dashboard/plugins/perfect-scrollbar.jquery.min.js')
// Plugin for the momentJs
script(src='/js/dashboard/plugins/moment.min.js')
// Plugin for Sweet Alert
script(src='/js/dashboard/plugins/sweetalert2.js')
// Forms Validations Plugin
script(src='/js/dashboard/plugins/jquery.validate.min.js')
// Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard
script(src='/js/dashboard/plugins/jquery.bootstrap-wizard.js')
// Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select
script(src='/js/dashboard/plugins/bootstrap-selectpicker.js')
// Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/
script(src='/js/dashboard/plugins/bootstrap-datetimepicker.min.js')
// DataTables.net Plugin, full documentation here: https://datatables.net/
script(src='/js/dashboard/plugins/jquery.dataTables.min.js')
// Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs
script(src='/js/dashboard/plugins/bootstrap-tagsinput.js')
// Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput
script(src='/js/dashboard/plugins/jasny-bootstrap.min.js')
// Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar
script(src='/js/dashboard/plugins/fullcalendar.min.js')
// Vector Map plugin, full documentation here: http://jvectormap.com/documentation/
script(src='/js/dashboard/plugins/jquery-jvectormap.js')
// Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/
script(src='/js/dashboard/plugins/nouislider.min.js')
// Include a polyfill for ES6 Promises (optional) for IE11, UC Browser and Android browser support SweetAlert
script(src='https://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.js')
// Library for adding dinamically elements
script(src='/js/dashboard/plugins/arrive.min.js')
// Google Maps Plugin
script(src='https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE')
// Chartist JS
script(src='/js/dashboard/plugins/chartist.min.js')
// Notifications Plugin
script(src='/js/dashboard/plugins/bootstrap-notify.js')
// Control Center for Material Dashboard
script(src='/js/dashboard/material-dashboard.js?v=2.1.1' type='text/javascript')
// Material Dashboard DEMO methods, don't include it in your project!
script(src='/js/components/dash_Calendar/calendar.js')

script(src='/demo/demo.js')
script.
  $(document).ready(function() {
  $().ready(function() {
  $sidebar = $('.sidebar');
  $sidebar_img_container = $sidebar.find('.sidebar-background');
  $full_page = $('.full-page');
  $sidebar_responsive = $('body > .navbar-collapse');
  window_width = $(window).width();
  fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();
  if (window_width > 767 && fixed_plugin_open == 'Dashboard') {
  if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {
  $('.fixed-plugin .dropdown').addClass('open');
  }
  }
  $('.fixed-plugin a').click(function(event) {
  // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
  if ($(this).hasClass('switch-trigger')) {
  if (event.stopPropagation) {
  event.stopPropagation();
  } else if (window.event) {
  window.event.cancelBubble = true;
  }
  }
  });
  $('.fixed-plugin .active-color span').click(function() {
  $full_page_background = $('.full-page-background');
  $(this).siblings().removeClass('active');
  $(this).addClass('active');
  var new_color = $(this).data('color');
  if ($sidebar.length != 0) {
  $sidebar.attr('data-color', new_color);
  }
  if ($full_page.length != 0) {
  $full_page.attr('filter-color', new_color);
  }
  if ($sidebar_responsive.length != 0) {
  $sidebar_responsive.attr('data-color', new_color);
  }
  });
  $('.fixed-plugin .background-color .badge').click(function() {
  $(this).siblings().removeClass('active');
  $(this).addClass('active');
  var new_color = $(this).data('background-color');
  if ($sidebar.length != 0) {
  $sidebar.attr('data-background-color', new_color);
  }
  });
  $('.fixed-plugin .img-holder').click(function() {
  $full_page_background = $('.full-page-background');
  $(this).parent('li').siblings().removeClass('active');
  $(this).parent('li').addClass('active');
  var new_image = $(this).find("img").attr('src');
  if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
  $sidebar_img_container.fadeOut('fast', function() {
  $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
  $sidebar_img_container.fadeIn('fast');
  });
  }
  if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
  var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');
  $full_page_background.fadeOut('fast', function() {
  $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
  $full_page_background.fadeIn('fast');
  });
  }
  if ($('.switch-sidebar-image input:checked').length == 0) {
  var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
  var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');
  $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
  $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
  }
  if ($sidebar_responsive.length != 0) {
  $sidebar_responsive.css('background-image', 'url("' + new_image + '")');
  }
  });
  $('.switch-sidebar-image input').change(function() {
  $full_page_background = $('.full-page-background');
  $input = $(this);
  if ($input.is(':checked')) {
  if ($sidebar_img_container.length != 0) {
  $sidebar_img_container.fadeIn('fast');
  $sidebar.attr('data-image', '#');
  }
  if ($full_page_background.length != 0) {
  $full_page_background.fadeIn('fast');
  $full_page.attr('data-image', '#');
  }
  background_image = true;
  } else {
  if ($sidebar_img_container.length != 0) {
  $sidebar.removeAttr('data-image');
  $sidebar_img_container.fadeOut('fast');
  }
  if ($full_page_background.length != 0) {
  $full_page.removeAttr('data-image', '#');
  $full_page_background.fadeOut('fast');
  }
  background_image = false;
  }
  });
  $('.switch-sidebar-mini input').change(function() {
  $body = $('body');
  $input = $(this);
  if (md.misc.sidebar_mini_active == true) {
  $('body').removeClass('sidebar-mini');
  md.misc.sidebar_mini_active = false;
  $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();
  } else {
  $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');
  setTimeout(function() {
  $('body').addClass('sidebar-mini');
  md.misc.sidebar_mini_active = true;
  }, 300);
  }
  // we simulate the window Resize so the charts will get updated in realtime.
  var simulateWindowResize = setInterval(function() {
  window.dispatchEvent(new Event('resize'));
  }, 180);
  // we stop the simulation of Window Resize after the animations are completed
  setTimeout(function() {
  clearInterval(simulateWindowResize);
  }, 1000);
  });
  });
  }); 
script.
    $(document).ready(function() {
    var date = new Date();
    var d = date.getDate();
    var m = date.getMonth();
    var y = date.getFullYear();
    /*  className colors
    className: default(transparent), important(red), chill(pink), success(green), info(blue)
    */
    /* initialize the external events
    -----------------------------------------------------------------*/
    $('#external-events div.external-event').each(function() {
    // create an Event Object (http://arshaw.com/fullcalendar/docs/event_data/Event_Object/)
    // it doesn't need to have a start or end
    var eventObject = {
    title: $.trim($(this).text()) // use the element's text as the event title
    };
    // store the Event Object in the DOM element so we can get to it later
    $(this).data('eventObject', eventObject);
    // make the event draggable using jQuery UI
    $(this).draggable({
    zIndex: 999,
    revert: true,      // will cause the event to go back to its
    revertDuration: 0  //  original position after the drag
    });
    });
    /* initialize the calendar
    -----------------------------------------------------------------*/
    var calendar =  $('#calendar').fullCalendar({
    header: {
    left: 'title',
    center: 'agendaDay,agendaWeek,month',
    right: 'prev,next today'
    },
    editable: true,
    firstDay: 1, //  1(Monday) this can be changed to 0(Sunday) for the USA system
    selectable: true,
    defaultView: 'month',
    axisFormat: 'h:mm',
    columnFormat: {
    month: 'ddd',    // Mon
    week: 'ddd d', // Mon 7
    day: 'dddd M/d',  // Monday 9/7
    agendaDay: 'dddd d'
    },
    titleFormat: {
    month: 'MMMM yyyy', // September 2009
    week: "MMMM yyyy", // September 2009
    day: 'MMMM yyyy'                  // Tuesday, Sep 8, 2009
    },
    allDaySlot: false,
    selectHelper: true,
    select: function(start, end, allDay) {
    var title = prompt('Event Title:');
    if (title) {
    calendar.fullCalendar('renderEvent',
    {
    title: title,
    start: start,
    end: end,
    allDay: allDay
    },
    true // make the event "stick"
    );
    }
    calendar.fullCalendar('unselect');
    },
    droppable: true, // this allows things to be dropped onto the calendar !!!
    drop: function(date, allDay) { // this function is called when something is dropped
    // retrieve the dropped element's stored Event Object
    var originalEventObject = $(this).data('eventObject');
    // we need to copy it, so that multiple events don't have a reference to the same object
    var copiedEventObject = $.extend({}, originalEventObject);
    // assign it the date that was reported
    copiedEventObject.start = date;
    copiedEventObject.allDay = allDay;
    // render the event on the calendar
    // the last `true` argument determines if the event "sticks" (http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)
    $('#calendar').fullCalendar('renderEvent', copiedEventObject, true);
    // is the "remove after drop" checkbox checked?
    if ($('#drop-remove').is(':checked')) {
    // if so, remove the element from the "Draggable Events" list
    $(this).remove();
    }
    },
    events: [
    {
    title: 'All Day Event',
    start: new Date(y, m, 1)
    },
    {
    id: 999,
    title: 'Repeating Event',
    start: new Date(y, m, d-3, 16, 0),
    allDay: false,
    className: 'info'
    },
    {
    id: 999,
    title: 'Repeating Event',
    start: new Date(y, m, d+4, 16, 0),
    allDay: false,
    className: 'info'
    },
    {
    title: 'Meeting',
    start: new Date(y, m, d, 10, 30),
    allDay: false,
    className: 'important'
    },
    {
    title: 'Lunch',
    start: new Date(y, m, d, 12, 0),
    end: new Date(y, m, d, 14, 0),
    allDay: false,
    className: 'important'
    },
    {
    title: 'Birthday Party',
    start: new Date(y, m, d+1, 19, 0),
    end: new Date(y, m, d+1, 22, 30),
    allDay: false,
    },
    {
    title: 'Click for Google',
    start: new Date(y, m, 28),
    end: new Date(y, m, 29),
    url: 'https://ccp.cloudaccess.net/aff.php?aff=5188',
    className: 'success'
    }
    ],
    });
    });
